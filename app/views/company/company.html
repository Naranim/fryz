<div ng-controller="CompanyCtrl">
  <!-- under header color block -->
  <div class="color-block z-depth-1">
    <h1 class="company-title">{{company.title}}</h1>
  </div>

  <!-- main photo -->
  <div class="main-photo card z-depth-1">
    <div class="card-image z-depth-1">
      <img ng-src="{{company.background}}" class="backgroudimg">
    </div>
  </div>

  <!-- basic info -->
  <div class="first-card full-card card  z-depth-1">
    <div class="description">
      {{company.description}}
    </div>
  </div>

  <!-- contact -->
  <div class="contact row full-card">
    <div class="no-left-padding col s4">
      <div class="card-contact card darken-1">
        <div class="" style="vertical-align: middle; margin: auto; position: absolute; top: 0; left: 0; bottom: 0; right: 0;">
          <div style="display:flex;justify-content:center;align-items:center;">
            <div>
              <table style="width:100px;height:100%;">
                <tbody>
                  <tr>
                    <td class="description"> <i class="small material-icons">phone</i></td>
                    <td>{{company.phone}}</td>
                  </tr>
                  <tr>
                    <td class="description"> <i class="small material-icons">email</i></td>
                    <td>{{company.email}}</td>
                  </tr>
                  <tr>
                    <td class="description"> <i class="small material-icons">location_on</i></td>
                    <td>
                      {{company.address_first_line}}
                      <br /> {{company.address_second_line}}
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="no-right-padding col s8">
      <div class="card-map card">
        <!-- TODO: Implement google maps API -->
        <iframe ng-src="{{company.getMapsUrl(company.address_first_line + ' ' + company.address_second_line)}}" width="100%" height="100%" frameborder="0" style="overflow: hidden; height: 100%; width: 100%; position: absolute;" allowfullscreen></iframe>
      </div>
    </div>
  </div>


  <!-- employees -->
  <div class="full-card " style="background: none; border: none; shadow: none;">
    <ul class="collapsible popout" data-collapsible="accordion">
      <li ng-repeat="employee in company.employees">
        <div class="collapsible-header active"><img ng-src="{{employee.photo}}" class="mini-avatar" />{{employee.name}}</div>
        <div class="collapsible-body">
          <div class="row">
            <div class="col s4"><img ng-src="{{employee.photo}}" class="big-avatar" /></div>
            <div class="person-desc col s8">
              <p>{{employee.description}}</p>
            </div>
          </div>
        </div>
      </li>
    </ul>
  </div>


  <!-- slider -->
  <div class="full-card">
    <div class="slider">
      <ul class="slides">
        <li ng-repeat="photo in company.slide_photos">
          <img ng-src="{{photo}}">
        </li>
      </ul>

      <script>
        $(document).ready(function() {
          $('.slider').slider({
            full_width: true
          });
        });
        $('.slider').slider('pause');
      </script>
    </div>
  </div>


  <!-- services -->
  <div class="full-card card">
    <table class="bordered highlight">
      <thead>
        <tr>
          <th data-field="id">Usługa</th>
          <th data-field="name">Cena</th>
        </tr>
      </thead>

      <tbody>
        <tr ng-repeat="service in company.services">
          <td>{{service.name}}</td>
          <td>{{service.price}} zł</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="full-card">
    <ul class="collection">
      <li class="collection-item avatar" ng-repeat="review in company.reviews">
        <img ng-src="{{review.avatar}}" alt="" class="circle">
        <span class="title">{{review.author}}</span>
        <p>{{review.comment}}</p>
        <a href="#!" class="secondary-content"><i class="material-icons" ng-repeat-n="review.rate">grade</i></a>
      </li>
      <a href="#">
        <li class="collection-item">
          Wczytaj więcej opinii...
        </li>
      </a>
    </ul>
  </div>
</div>
